<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link href="static/css/bootstrap.min.css" rel="stylesheet" />
		<link href="static/css/custom.css" rel="stylesheet" />
		<link href="https://fonts.googleapis.com/css?family=Roboto+Condensed&display=swap" rel="stylesheet">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" sizes="32x32" href="static/favicon-32x32.png">
		<link rel="icon" type="image/png" sizes="16x16" href="/static/favicon-16x16.png">
		<link rel="manifest" href="static/site.webmanifest">
		<link rel="mask-icon" href="static/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="msapplication-TileColor" content="#603cba">
		<meta name="theme-color" content="#ffffff">
		<title>CardioAssist</title>
	</head>
		<nav class="navbar navbar-expand navbar-default">
			<a class="navbar-brand ml-2" href="#">
				<img src="static/Logo.png" alt="CardioAssist" class="logo">
			</a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarNav">
				<ul class="navbar-nav ml-5">
					<li class="nav-item">
						<a class="nav-link" href="https://dmolony3.github.io">Blog</a>
					</li>
				</ul>
				<ul class="navbar-nav ml-auto">
					<li class="nav-item mr-3"><a href="https://github.com/dmolony3"><span class="fa fa-github"></span></a></li> 
					<li class="nav-item mr-3"><a href="https://www.linkedin.com/in/david-molony-7457a219/"><span class="fa fa-linkedin"></span></a></li> 
					<li class="nav-item"><a href="https://www.twitter.com/DavidSMolony"><span class="fa fa-twitter"></span></a></li> 
				</ul>
			</div>
		</nav>
	<body>
		<div class="jumbotron jumbotron-fluid" id="jumbo">
			<div class="container my-0">
				<h1 class="display-5 mt-1">Generate Cardiology Text Using Artifical Intelligence</h1>
				<p class="my-1 mx-5" style="color:black;">
					<span>Autocomplete your cardiology sentences using our app trained on cardiology 
					textbooks. The text is generated by fine-tuning
					</span>
					<span data-toggle="popover" data-trigger="hover" data-content="GPT2 is a neural language model released by OpenAI for generating text. Here we use the 345 millon parameter model.">
					<u>GPT2.</u>
					</span>
					<span>Don't forget to share your AI generated text on twitter!</span>
				</p>
			</div>
		</div>
		<div class="container">
			<div class="row">
				<div class="col-md-3">
					<div  style="margin-top: 1em;">
						<p style="text-align: center; color: black;">
							<span data-toggle="popover" data-trigger="hover" data-content="Set the number of responses that the model provides. Increasing this significantly slows the autcomplete time">Number of Responses</span>
						</p>
						<input type="range" oninput="updateResponses(this.value)" min="1" max="5" step="1" value="1" class="slider" id="num-responses">
						<span id="responsesValue"; style="margin-left: 95%; color:black">1</span>
					</div>
					<div style="margin-left: 3em; margin-top: 1em;">
						<p style="text-align: center; color: black;">
							<span data-toggle="popover" data-trigger="hover" data-content="Increasing the temperature will make the autcomplete more random and return more diverse replies">Temperature</span>
						</p>
						<input type="range" oninput="updateTemp(this.value)" min="0" max="10" step="0.1" value="0.5" class="slider" id="slider-temp">
						<span id="tempValue"  style="margin-left: 95%; color:black">0.5</span>
					</div>
					<div  style="margin-left: 3em; margin-top: 1em;">
						<p style="text-align: center; color: black;">
							<span data-toggle="popover" data-trigger="hover" data-content="Number of words to choose the next word from">Top-k</span>
						</p>
						<input type="range" oninput="updateTopK(this.value)" min="1" max="10" step="1" value="1" class="slider" id="slider-top-k">
						<span id="topValue"  style="margin-left: 95%; color:black">1</span>
					</div>
					<div id="tweet"  style="margin-left: 3em; margin-top: 3em;">
						<button style="background-color: #1da1f2; color: white;" onclick="tweetIt()">Share on Twitter!</button>
					</div>
					<div id="follow" style="margin-left: 3em; margin-top: 3em;">
						<a href="https://twitter.com/DavidSMolony?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @DavidMolony2</a>
						<script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
					</div>
				</div>
				<div class="col-md-6">
					<div id="textBox" class="textarea" contenteditable="true" onkeyup="charcountupdate(this.innerText)" data-placeholder="Press TAB to autocomplete!"></div>
						<span class="initialText"></span>
						<span class="newText"></span>
					<p id=charcount></p>
				</div>
				<div class="col-md-3">
					<div id="Attention-title">
					<p style="text-align: center; color: black; font-style: oblique; font-weight: bold; font-family:verdana;">
						<span data-toggle="popover" data-trigger="hover" data-content="Attention shows what other words each word is focused on. Plot the attention by highlighting some text and pressing the plot attention button">Attention Heatmap</span>
					</p>
					</div>
					<div>
						<div id="layerDropdown" style="float:left; margin-left: 60px;">
						</div>
						<div id="headDropdown" style="float:left;">
						</div>
					</div>
					<div class="attention">
					</div>
				</div>
				<input type="hidden"  id="numHeads" value="{{ numHeads|safe }}">
				<input type="hidden"  id="numLayers" value="{{ numLayers|safe }}">
			</div>
			<div class="row">
				<div class="col" style="text-align: center;">
					<span style="text-align: center;">
						<a href=https://github.com/huggingface/transformers target="_blank" style="text-align: center; color: red;">Powered by Huggingface Transformers ðŸ¤—</a>
					</span>
				</div>
			</div>
			<div id="tooltip">
				<!-- <input id='selTxt' type="text"></input> -->
				<button type="button" id='addBtn'>Plot attention</button>
			</div>
		</div>
		<div id="myModal" class="modal">
			<!-- Modal content -->
			<div class="modal-content">
				<table id="table-data" class="table table-hover">
					<tr>
						<td>Text1</td>
					</tr>
					<tr>
						<td>Text2</td>
					</tr>
					<tr>
						<td>Text3</td>
					</tr>
				</table>
			</div>
		</div>
		<script src="static/jquery-3.4.1.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
		<script src="https://d3js.org/d3.v4.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/d3-tip/0.7.1/d3-tip.min.js"></script>
		<script src="static/main.js"></script>
		<script>
			function updateTemp(val) {
				document.getElementById("tempValue").innerHTML = val;
			}
			function updateTopK(val) {
				document.getElementById("topValue").innerHTML = val;
			}
			function updateResponses(val) {
				document.getElementById("responsesValue").innerHTML = val;
			}
		</script>
	</body>
</html>